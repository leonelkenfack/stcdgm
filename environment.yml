name: st-cdgm
channels:
  - pytorch
  - conda-forge
  - defaults

dependencies:
  # Python version
  - python=3.10

  # Core scientific
  - numpy>=1.21.0
  - pandas>=1.3.0
  - scipy>=1.7.0
  - xarray>=2023.1.0

  # PyTorch (conda install is more reliable)
  - pytorch>=2.0.0
  - torchvision>=0.15.0
  - pytorch-cuda=11.8  # Ou pytorch-cpu si pas de GPU

  # Climate data processing
  - netcdf4>=1.6.0
  - h5netcdf>=1.1.0
  - dask>=2023.1.0

  # Visualization
  - matplotlib>=3.5.0
  - seaborn>=0.12.0

  # Jupyter (optionnel)
  - jupyter>=1.0.0
  - jupyterlab>=3.5.0
  - ipykernel>=6.15.0

  # Testing
  - pytest>=7.0.0

  # Pip dependencies (pas disponibles via conda ou mieux via pip)
  - pip
  - pip:
      # PyTorch Geometric
      - torch-geometric>=2.3.0
      - torch-scatter>=2.1.0
      - torch-sparse>=0.6.17
      
      # Diffusion models
      - diffusers>=0.21.0
      - accelerate>=0.20.0
      - transformers>=4.30.0
      
      # Climate data
      - xbatcher>=0.3.0
      
      # Configuration
      - hydra-core>=1.3.0
      - omegaconf>=2.3.0
      
      # Optional
      - plotly>=5.10.0
      - networkx>=2.8.0
      - tqdm>=4.64.0

# ============================================================================
# Installation avec Conda:
#   conda env create -f environment.yml
#   conda activate st-cdgm
#
# Mise Ã  jour:
#   conda env update -f environment.yml --prune
#
# Export de l'environnement actuel:
#   conda env export > environment-frozen.yml
# ============================================================================

